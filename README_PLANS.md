# 项目改进计划 (GGPM-Python)

这是一个根据ai分析提出的项目改进建议列表。

## 一、配置管理

-   [ ] **增强配置项:**
    -   [ ] 允许用户配置日志级别 (DEBUG, INFO, WARNING, ERROR)。
    -   [ ] 允许用户自定义检测 IP 变化的轮询间隔。
    -   [ ] 允许用户手动指定 Git 命令路径 (如果不在系统 PATH 中)。
    -   [ ] (可选) 添加开机自启选项。
-   [ ] **改进配置文件格式:**
    -   [ ] 考虑使用 `JSON`, `YAML`, 或 `INI` 格式替代当前的 `proxy_port.txt` 以支持更多配置。
    -   [ ] 让 `src/config.py` 在首次运行时自动创建包含所有默认配置的完整配置文件。
-   [ ] **配置校验:**
    -   [ ] 对用户配置的值进行有效性校验 (如端口号范围)。
    -   [ ] 在配置无效时给出提示或自动使用默认值。

## 二、日志记录

-   [ ] **更详细的日志:**
    -   [ ] 在关键操作（更新Git代理、IP检测、启停）时记录时间戳、模块名、事件描述。
    -   [ ] 确保项目所有模块统一使用 `logging` 模块。
-   [ ] **日志轮转:**
    -   [ ] 实现日志轮转 (按日期或大小分割)，防止日志文件过大。
-   [ ] **用户可见日志改进:**
    -   [ ] 确保重要状态和错误信息清晰展示在 GUI 的日志区域。
    -   [ ] (可选) 增加复制日志内容到剪贴板的功能。

## 三、用户体验 (GUI)

-   [ ] **状态反馈:**
    -   [ ] 在 GUI 中更明确地显示当前状态 (如"正在监控", "IP未变化", "错误"等)。
    -   [ ] 在耗时操作时给出忙碌指示。
-   [ ] **适配器选择增强:**
    -   [ ] 在适配器选择列表中显示适配器当前的 IP 地址。
    -   [ ] 当选定适配器失效时，明确提示并引导用户操作。
-   [ ] **错误提示:**
    -   [ ] 发生错误时 (Git命令失败、配置错误等) 通过弹窗或状态区清晰提示用户。
-   [ ] **国际化/本地化 (i18n/l10n):**
    -   [ ] (可选) 考虑支持多语言界面。

## 四、代码结构和可维护性

-   [ ] **错误处理:**
    -   [ ] 在文件操作、网络请求、外部命令调用等处使用 `try-except` 捕获特定异常。
-   [ ] **代码注释和文档:**
    -   [ ] 为复杂逻辑、重要函数和类添加更详细的注释和文档字符串 (docstrings)。
    -   [ ] 持续维护 `README.md` 的准确性。
-   [ ] **依赖管理:**
    -   [ ] 添加新依赖时，同步更新 `requirements.txt`。

## 五、打包和分发

-   [ ] **减小打包体积:**
    -   [ ] 研究 PyInstaller 的 `--exclude-module` 等选项以优化体积。
    -   [ ] 确保虚拟环境中只包含必要依赖。
    -   [ ] 优化 `res/icon.ico` 文件大小。
-   [ ] **版本控制集成:**
    -   [ ] 实现版本号管理机制 (如从文件读取或使用 Git 标签)。
    -   [ ] 打包时将版本号嵌入程序或文件名。

## 六、测试

-   [ ] **单元测试:**
    -   [ ] 为核心逻辑模块 (如 `network.py`, `git_proxy.py`) 编写单元测试。
-   [ ] **集成测试:**
    -   [ ] 设计并执行测试用例，确保模块组合后能正常工作。

## 七、特定文件改进建议

-   [ ] **`mkpackage.py`:**
    -   [ ] 将打包配置 (应用名、图标路径等) 提取为变量或配置文件。
    -   [ ] 考虑打包时生成的 `README.md` 的内容策略 (是简化版还是复制主 README)。
-   [ ] **`run.py`:**
    -   [ ] 确认其作为启动器的简洁性和正确性。 